module.exports = function walk(nodes, cb, bubble) {
  var i, max, node, result

  for (i = 0, max = nodes.length; i < max; i += 1) {
    node = nodes[i]
    if (!bubble) {
      result = cb(node, i, nodes)
    }

    if (result !== false && node.type === 'function' && Array.isArray(node.nodes)) {
      walk(node.nodes, cb, bubble)
    }

    if (bubble) {
      cb(node, i, nodes)
    }
  }
}

// These are personal recreations of existing projects, developed by Ashraf Morningstar for learning and skill development. Original project concepts remain the intellectual property of their respective creators.
https://github.com/AshrafMorningstar